{"ast":null,"code":"import _regeneratorRuntime from\"/home/tekuan/Documentos/Pokedex-React/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tekuan/Documentos/Pokedex-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tekuan/Documentos/Pokedex-React/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Navbar from'../../navbar';import axios from'axios';import Ash from'../../assets/ash.png';import'./style.css';export default function Perfil(){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),pokemons=_React$useState4[0],setPokemons=_React$useState4[1];var usuario=localStorage.getItem('usuario');React.useEffect(function(){axios.get(\"https://pokedex20201.herokuapp.com/users/\".concat(usuario)).then(function(res){setUser(res.data.user);setPokemons(res.data.pokemons);});},[usuario]);var handleDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(pokemon){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(pokemon);_context.next=3;return axios.delete(\"https://pokedex20201.herokuapp.com/users/\".concat(usuario,\"/starred/\").concat(pokemon)).then(function(res){return console.log(res);});case 3:window.location.reload(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleDelete(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"box-container-perfil\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pokedex\"},/*#__PURE__*/React.createElement(\"img\",{className:\"ash\",src:Ash,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"usuario\"},\" \",/*#__PURE__*/React.createElement(\"strong\",null,\"Usu\\xE1rio: \",user.username)),/*#__PURE__*/React.createElement(\"h3\",null,\" Pokemons favoritos: \",pokemons.length),pokemons.map(function(p){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"favoritos\"},/*#__PURE__*/React.createElement(\"img\",{className:\"pokemonImagem\",src:p.image_url,alt:\"\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleDelete(p.name);},className:\"pokemonNome\"},\"Delete: \",p.name)));})));}","map":{"version":3,"sources":["/home/tekuan/Documentos/Pokedex-React/src/pages/Perfil/index.js"],"names":["React","Navbar","axios","Ash","Perfil","useState","user","setUser","pokemons","setPokemons","usuario","localStorage","getItem","useEffect","get","then","res","data","handleDelete","pokemon","console","log","delete","window","location","reload","username","length","map","p","image_url","name"],"mappings":"qWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,sBAAhB,CACA,MAAO,aAAP,CAGA,cAAe,SAASC,CAAAA,MAAT,EAAmB,qBAEPJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAFO,oDAExBC,IAFwB,qBAElBC,OAFkB,0CAGCP,KAAK,CAACK,QAAN,CAAe,EAAf,CAHD,qDAGxBG,QAHwB,qBAGdC,WAHc,qBAI/B,GAAIC,CAAAA,OAAO,CAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAd,CAEDZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CAClBX,KAAK,CACDY,GADJ,oDACoDJ,OADpD,GAEIK,IAFJ,CAES,SAAAC,GAAG,CAAI,CACVT,OAAO,CAACS,GAAG,CAACC,IAAJ,CAASX,IAAV,CAAP,CACAG,WAAW,CAACO,GAAG,CAACC,IAAJ,CAAST,QAAV,CAAX,CAA+B,CAJrC,EAKF,CANF,CAMI,CAACE,OAAD,CANJ,EASC,GAAMQ,CAAAA,YAAY,0FAAG,iBAAOC,OAAP,kHAEpBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAFoB,sBAIdjB,CAAAA,KAAK,CACNoB,MADC,oDACkDZ,OADlD,qBACqES,OADrE,GAEDJ,IAFC,CAEI,SAAAC,GAAG,QAAII,CAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,CAAJ,EAFP,CAJc,QAOhBO,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAPgB,sDAAH,kBAAZP,CAAAA,YAAY,4CAAlB,CAUC,mBACI,qDACA,oBAAC,MAAD,MADA,cAEA,2BAAK,SAAS,CAAC,sBAAf,eACI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,KAAf,CAAqB,GAAG,CAAEf,GAA1B,CAA+B,GAAG,CAAC,EAAnC,EADJ,CADJ,cAIQ,2BAAK,SAAS,CAAC,SAAf,mBAA0B,iDAAkBG,IAAI,CAACoB,QAAvB,CAA1B,CAJR,cAKQ,sDAA0BlB,QAAQ,CAACmB,MAAnC,CALR,CAOSnB,QAAQ,CAACoB,GAAT,CAAa,SAAAC,CAAC,qBACX,qDACA,2BAAK,SAAS,CAAC,WAAf,eACA,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEA,CAAC,CAACC,SAAtC,CAAiD,GAAG,CAAC,EAArD,EADA,cAEA,8BAAQ,OAAO,CAAE,yBAAMZ,CAAAA,YAAY,CAACW,CAAC,CAACE,IAAH,CAAlB,EAAjB,CAA6C,SAAS,CAAC,aAAvD,aAA8EF,CAAC,CAACE,IAAhF,CAFA,CADA,CADW,EAAd,CAPT,CAFA,CADJ,CAsBH","sourcesContent":["import React from 'react';\nimport Navbar from '../../navbar';\nimport axios from 'axios';\nimport Ash from '../../assets/ash.png'\nimport './style.css';\n\n\nexport default function Perfil()  {\n\n   const [user, setUser] = React.useState({});\n   const [pokemons, setPokemons] = React.useState([]);\n   let usuario = localStorage.getItem('usuario');\n\n  React.useEffect(() => {\n      axios\n         .get(`https://pokedex20201.herokuapp.com/users/${usuario}`)\n         .then(res => {\n            setUser(res.data.user)\n            setPokemons(res.data.pokemons)});\n   }, [usuario]);\n\n \n   const handleDelete = async (pokemon) => { \n\n    console.log(pokemon);\n       \n    await axios\n        .delete(`https://pokedex20201.herokuapp.com/users/${usuario}/starred/${pokemon}`)\n        .then(res => console.log(res));\n        window.location.reload(false);\n    };\n \n    return(\n        <>\n        <Navbar />         \n        <div className=\"box-container-perfil\">\n            <div className=\"pokedex\">\n                <img className=\"ash\" src={Ash} alt=\"\"/> \n            </div>\n                <div className=\"usuario\"> <strong>Usu√°rio: {user.username}</strong></div>\n                <h3> Pokemons favoritos: {pokemons.length}</h3>\n                \n                {pokemons.map(p => (\n                    <>\n                    <div className=\"favoritos\">\n                    <img className=\"pokemonImagem\" src={p.image_url} alt=\"\"/>\n                    <button onClick={() => handleDelete(p.name)} className=\"pokemonNome\">Delete: {p.name}</button>\n                    </div>\n                    </>\n                ))}\n                     \n        </div>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}