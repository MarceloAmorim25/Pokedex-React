{"ast":null,"code":"var _jsxFileName = \"/home/tekuan/Documentos/Pokedex-React/src/pages/Login/index.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport './style.css';\nexport default function Login() {\n  const [usuario, setUsuario] = useState('');\n  const [data, setData] = useState([]);\n  const history = useHistory();\n  React.useEffect(() => {\n    if (usuario.length !== 0) {\n      axios.get(`https://pokedex20201.herokuapp.com/users/${usuario}`).then(res => {\n        setData(res.data.user.username);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, [usuario]);\n  localStorage.setItem('usuario', usuario);\n\n  async function handleLogin(e) {\n    e.preventDefault();\n\n    if (usuario === data) {\n      history.push('/home');\n      alert('Login autorizado...');\n    } else {\n      await axios.post('https://pokedex20201.herokuapp.com/users', {\n        username: usuario\n      }).then(res => {\n        console.log(res);\n        alert('Novo usuário criado!');\n        history.push('/home');\n      }).catch(function (error) {\n        console.log(error);\n        alert('Falha no login, tente novamente.');\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"POK\\xC9DEX\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"input\",\n    type: \"text\",\n    placeholder: \"Usu\\xE1rio\",\n    value: usuario,\n    onChange: e => setUsuario(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, \"ENTRAR\"))));\n}","map":{"version":3,"sources":["/home/tekuan/Documentos/Pokedex-React/src/pages/Login/index.js"],"names":["React","useState","useHistory","axios","Login","usuario","setUsuario","data","setData","history","useEffect","length","get","then","res","user","username","catch","error","console","log","localStorage","setItem","handleLogin","e","preventDefault","push","alert","post","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AAEA,eAAe,SAASC,KAAT,GAAiB;AAG5B,QAAK,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAArC;AACA,QAAK,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAMQ,OAAO,GAAGP,UAAU,EAA1B;AAGAF,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AAEpB,QAAGL,OAAO,CAACM,MAAR,KAAmB,CAAtB,EAAwB;AAEtBR,MAAAA,KAAK,CACFS,GADH,CACQ,4CAA2CP,OAAQ,EAD3D,EAEGQ,IAFH,CAESC,GAAD,IAAS;AACbN,QAAAA,OAAO,CAACM,GAAG,CAACP,IAAJ,CAASQ,IAAT,CAAcC,QAAf,CAAP;AACD,OAJH,EAKGC,KALH,CAKS,UAASC,KAAT,EAAgB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAPH;AASD;AAEH,GAfA,EAeE,CAACb,OAAD,CAfF;AAiBDgB,EAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCjB,OAAhC;;AAEA,iBAAekB,WAAf,CAA2BC,CAA3B,EAA8B;AAEzBA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAGpB,OAAO,KAAKE,IAAf,EAAqB;AAEnBE,MAAAA,OAAO,CAACiB,IAAR,CAAa,OAAb;AACAC,MAAAA,KAAK,CAAC,qBAAD,CAAL;AAED,KALD,MAKM;AACF,YAAMxB,KAAK,CACRyB,IADG,CACE,0CADF,EAC8C;AAChDZ,QAAAA,QAAQ,EAAEX;AADsC,OAD9C,EAIHQ,IAJG,CAIGC,GAAD,IAAS;AACbK,QAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AACAa,QAAAA,KAAK,CAAC,sBAAD,CAAL;AACAlB,QAAAA,OAAO,CAACiB,IAAR,CAAa,OAAb;AACD,OARG,EASHT,KATG,CASG,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAS,QAAAA,KAAK,CAAC,kCAAD,CAAL;AACD,OAZG,CAAN;AAaH;AACJ;;AAED,sBAEI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,QAAQ,EAAEJ,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AACI,IAAA,EAAE,EAAC,OADP;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,WAAW,EAAC,YAHhB;AAII,IAAA,KAAK,EAAElB,OAJX;AAKI,IAAA,QAAQ,EAAEmB,CAAC,IAAIlB,UAAU,CAACkB,CAAC,CAACK,MAAF,CAASC,KAAV,CAL7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,eAaI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ,CADJ,CADF,CAFJ;AAwBH","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport './style.css';\n\nexport default function Login() {\n\n    \n    const[usuario, setUsuario] = useState('');\n    const[data, setData] = useState([]);\n    const history = useHistory(); \n    \n    \n    React.useEffect(() => {\n\n      if(usuario.length !== 0){\n\n        axios\n          .get(`https://pokedex20201.herokuapp.com/users/${usuario}`)\n          .then((res) => {\n            setData(res.data.user.username)\n          })\n          .catch(function(error) {\n            console.log(error);\n          })\n\n      }\n\n   }, [usuario])\n\n   localStorage.setItem('usuario', usuario);\n\n   async function handleLogin(e) { \n     \n        e.preventDefault();\n                       \n        if(usuario === data) {\n\n          history.push('/home');\n          alert('Login autorizado...');\n\n        }else {\n            await axios\n              .post('https://pokedex20201.herokuapp.com/users', {\n                username: usuario\n              })\n              .then((res) => {\n                console.log(res);\n                alert('Novo usuário criado!');\n                history.push('/home');                \n              })\n              .catch(function (error) {\n                console.log(error);\n                alert('Falha no login, tente novamente.');\n              });\n        }\n    }\n\n    return(\n\n        <div className=\"box-container\">\n          <div className=\"box\">\n              <form  onSubmit={handleLogin}>\n\n                  <h1>POKÉDEX</h1>\n                  <input\n                      id=\"input\"\n                      type=\"text\"\n                      placeholder=\"Usuário\" \n                      value={usuario}\n                      onChange={e => setUsuario(e.target.value)}\n                  />\n\n                  <br />\n      \n                  <button type=\"submit\">ENTRAR</button>\n\n              </form>\n            </div>\n        </div>\n\n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}